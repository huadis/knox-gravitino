<?xml version="1.0" encoding="UTF-8"?>
<service role="GRAVITINOUI" name="gravitino" version="0.9.0">
  <policies>
    <policy role="webappsec"/>
    <policy role="authentication"/>
    <policy role="federation"/>
    <policy role="identity-assertion"/>
    <policy role="authorization"/>
    <policy role="rewrite"/>
  </policies>

  <routes>
    <route path="/gravitino">
      <rewrite apply="GRAVITINOUI/gravitino/inbound/root" to="request.url"/>
      <rewrite apply="GRAVITINOUI/gravitino/outbound/root" to="response.body"/>
    </route>
    <route path="/gravitino/">
      <rewrite apply="GRAVITINOUI/gravitino/inbound/root" to="request.url"/>
      <rewrite apply="GRAVITINOUI/gravitino/outbound/root" to="response.body"/>
    </route>
    <route path="/gravitino/configs">
      <rewrite apply="GRAVITINOUI/gravitino/inbound/configs-no-args" to="request.url"/>
    </route>
    <route path="/gravitino/configs?**">
      <rewrite apply="GRAVITINOUI/gravitino/inbound/configs-with-args" to="request.url"/>
    </route>
    <route path="/gravitino/ui/**">
      <rewrite apply="GRAVITINOUI/gravitino/inbound/ui" to="request.url"/>
      <rewrite apply="GRAVITINOUI/gravitino/outbound/static-path" to="response.body"/>
    </route>
    <route path="/gravitino/?**">
      <rewrite apply="GRAVITINOUI/gravitino/inbound/args" to="request.url"/>
      <rewrite apply="GRAVITINOUI/gravitino/outbound/root" to="response.body"/>
    </route>
    <route path="/gravitino/**?**">
      <rewrite apply="GRAVITINOUI/gravitino/inbound/pathargs" to="request.url"/>
      <rewrite apply="GRAVITINOUI/gravitino/outbound/root" to="response.body"/>
    </route>
    <route path="/gravitino/**">
      <rewrite apply="GRAVITINOUI/gravitino/inbound/path" to="request.url"/>
    </route>
  </routes>
</service>
